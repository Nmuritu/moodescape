<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Moodscape - User Manual</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            line-height: 1.6;
            color: #1f2937;
            background: #f8fafc;
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: #6366f1;
            border-radius: 12px;
            padding: 40px;
            margin-bottom: 30px;
            text-align: center;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .header h1 {
            font-size: 3rem;
            color: #fff;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .header p {
            font-size: 1.2rem;
            color: #e0e7ff;
            margin-bottom: 20px;
        }

        .version-badge {
            display: inline-block;
            background: #10b981;
            color: white;
            padding: 8px 16px;
            border-radius: 8px;
            font-size: 0.9rem;
            font-weight: 600;
        }

        .nav {
            background: #fff;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .nav h2 {
            color: #6366f1;
            margin-bottom: 15px;
            font-size: 1.5rem;
        }

        .nav ul {
            list-style: none;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 10px;
        }

        .nav a {
            color: #4b5563;
            text-decoration: none;
            padding: 10px 15px;
            border-radius: 8px;
            transition: all 0.3s ease;
            display: block;
        }

        .nav a:hover {
            background: #6366f1;
            color: white;
            transform: translateY(-2px);
        }

        .section {
            background: #fff;
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .section h2 {
            color: #6366f1;
            margin-bottom: 20px;
            font-size: 2rem;
            border-bottom: 3px solid #e5e7eb;
            padding-bottom: 10px;
        }

        .section h3 {
            color: #374151;
            margin: 25px 0 15px 0;
            font-size: 1.3rem;
        }

        .section h4 {
            color: #4b5563;
            margin: 20px 0 10px 0;
            font-size: 1.1rem;
        }

        .section p {
            margin-bottom: 15px;
            color: #6b7280;
        }

        .section ul, .section ol {
            margin: 15px 0 15px 30px;
        }

        .section li {
            margin-bottom: 8px;
            color: #6b7280;
        }

        .code-block {
            background: #1f2937;
            color: #f9fafb;
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            overflow-x: auto;
            border-left: 4px solid #6366f1;
        }

        .highlight {
            background: #fef3c7;
            padding: 2px 6px;
            border-radius: 4px;
            color: #92400e;
            font-weight: 600;
        }

        .warning {
            background: #fef2f2;
            border: 1px solid #fecaca;
            color: #dc2626;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
        }

        .success {
            background: #f0fdf4;
            border: 1px solid #bbf7d0;
            color: #166534;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
        }

        .info {
            background: #eff6ff;
            border: 1px solid #bfdbfe;
            color: #1e40af;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .feature-card {
            background: #fff;
            border: 1px solid #e5e7eb;
            border-radius: 12px;
            padding: 20px;
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }

        .feature-card h4 {
            color: #6366f1;
            margin-bottom: 10px;
        }

        .step {
            background: #fff;
            border-left: 4px solid #6366f1;
            padding: 15px;
            margin: 10px 0;
            border-radius: 0 8px 8px 0;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .step-number {
            background: #6366f1;
            color: white;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 10px;
        }

        .admin-panel {
            background: #fef2f2;
            border: 2px solid #fecaca;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }

        .admin-panel h4 {
            color: #dc2626;
            margin-bottom: 10px;
        }

        .credentials {
            background: #1f2937;
            color: #f9fafb;
            padding: 15px;
            border-radius: 8px;
            font-family: monospace;
            margin: 10px 0;
        }

        .toc {
            background: #fff;
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .toc h3 {
            color: #6366f1;
            margin-bottom: 15px;
        }

        .toc ol {
            margin-left: 20px;
        }

        .toc a {
            color: #4b5563;
            text-decoration: none;
        }

        .toc a:hover {
            color: #6366f1;
            text-decoration: underline;
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .nav ul {
                grid-template-columns: 1fr;
            }
            
            .feature-grid {
                grid-template-columns: 1fr;
            }
        }

        .back-to-top {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #6366f1;
            color: white;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            cursor: pointer;
            font-size: 1.2rem;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
        }

        .back-to-top:hover {
            background: #4f46e5;
            transform: translateY(-2px);
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üåô Moodscape</h1>
            <p>Your Personal AI-Powered Mood Tracking Companion</p>
            <span class="version-badge">Version 1.0.0</span>
        </div>

        <div class="nav">
            <h2>üìö Quick Navigation</h2>
            <ul>
                <li><a href="#getting-started">Getting Started</a></li>
                <li><a href="#preview-mode">Preview Mode</a></li>
                <li><a href="#registration">Registration & Login</a></li>
                <li><a href="#main-features">Main Features</a></li>
                <li><a href="#ai-features">AI Features</a></li>
                <li><a href="#settings">Settings & Account</a></li>
                <li><a href="#admin-panel">Admin Panel</a></li>
                <li><a href="#troubleshooting">Troubleshooting</a></li>
            </ul>
        </div>

        <div class="section" id="getting-started">
            <h2>üöÄ Getting Started</h2>
            
            <h3>System Requirements</h3>
            <div class="feature-grid">
                <div class="feature-card">
                    <h4>üì± Mobile App</h4>
                    <p>Android 6.0+ or iOS 10.0+</p>
                </div>
                <div class="feature-card">
                    <h4>üñ•Ô∏è Backend</h4>
                    <p>Python 3.8+ with FastAPI</p>
                </div>
                <div class="feature-card">
                    <h4>üåê Cross-Platform</h4>
                    <p>Windows, macOS, Linux support</p>
                </div>
            </div>

            <h3>Quick Start Guide</h3>
            <div class="step">
                <span class="step-number">1</span>
                <strong>Start the Backend Server</strong>
                <div class="code-block">
# Linux/macOS
cd backend && source venv/bin/activate && python3 app/simple_main.py

# Windows
cd backend && venv\Scripts\activate && python app\simple_main.py
                </div>
            </div>

            <div class="step">
                <span class="step-number">2</span>
                <strong>Start the Mobile App</strong>
                <div class="code-block">
cd MoodscapeApp && npm start
                </div>
            </div>

            <div class="step">
                <span class="step-number">3</span>
                <strong>Access the Application</strong>
                <ul>
                    <li>Open Expo Go app on your mobile device</li>
                    <li>Scan the QR code displayed in the terminal</li>
                    <li>Or use the web version at <span class="highlight">http://localhost:19006</span></li>
                </ul>
            </div>

            <div class="info">
                <strong>üí° Pro Tip:</strong> If QR code scanning doesn't work, use the web version at <strong>http://localhost:19006</strong> - it has all the same features!
            </div>
        </div>

        <div class="section" id="preview-mode">
            <h2>üëÄ Preview Mode</h2>
            
            <h3>What is Preview Mode?</h3>
            <p>Preview mode allows you to try Moodscape without creating an account. You get limited access to core features to experience the app before committing to registration.</p>

            <h3>Preview Features</h3>
            <div class="feature-grid">
                <div class="feature-card">
                    <h4>‚úÖ Available Features</h4>
                    <ul>
                        <li>Create mood entries (limited to 5 per session)</li>
                        <li>Basic AI mood analysis (limited prompts)</li>
                        <li>View basic insights</li>
                        <li>Access upgrade information</li>
                    </ul>
                </div>
                <div class="feature-card">
                    <h4>‚ùå Limited Features</h4>
                    <ul>
                        <li>No data persistence</li>
                        <li>No advanced AI features</li>
                        <li>No user profile management</li>
                        <li>No long-term tracking</li>
                    </ul>
                </div>
            </div>

            <h3>Starting a Preview Session</h3>
            <ol>
                <li>Open the app</li>
                <li>Tap "Try Preview Mode"</li>
                <li>Enter your name (optional)</li>
                <li>Start exploring limited features</li>
            </ol>

            <div class="warning">
                <strong>‚ö†Ô∏è Preview Limitations:</strong>
                <ul>
                    <li><strong>Session Duration:</strong> 30 minutes maximum</li>
                    <li><strong>Mood Entries:</strong> 5 entries per session</li>
                    <li><strong>AI Analysis:</strong> 3 analysis requests per session</li>
                    <li><strong>Data Storage:</strong> No data saved between sessions</li>
                </ul>
            </div>
        </div>

        <div class="section" id="registration">
            <h2>üë§ User Registration & Login</h2>

            <h3>Creating an Account</h3>
            <div class="step">
                <span class="step-number">1</span>
                <strong>Tap "Register" on the welcome screen</strong>
            </div>
            <div class="step">
                <span class="step-number">2</span>
                <strong>Fill in the registration form:</strong>
                <ul>
                    <li><strong>Name:</strong> Your full name</li>
                    <li><strong>Email:</strong> Valid email address</li>
                    <li><strong>Password:</strong> Minimum 8 characters</li>
                </ul>
            </div>
            <div class="step">
                <span class="step-number">3</span>
                <strong>Tap "Create Account"</strong>
            </div>
            <div class="step">
                <span class="step-number">4</span>
                <strong>Check your email for verification link</strong>
            </div>
            <div class="step">
                <span class="step-number">5</span>
                <strong>Click the verification link to activate your account</strong>
            </div>

            <h3>Logging In</h3>
            <ol>
                <li>Tap "Login" on the welcome screen</li>
                <li>Enter your email and password</li>
                <li>Tap "Login"</li>
                <li>You'll be redirected to the main app</li>
            </ol>

            <h3>Password Recovery</h3>
            <ol>
                <li>On the login screen, tap "Forgot Password?"</li>
                <li>Enter your registered email</li>
                <li>Check your email for reset instructions</li>
                <li>Follow the link to create a new password</li>
            </ol>
        </div>

        <div class="section" id="main-features">
            <h2>üéØ Main Features</h2>

            <h3>Home Screen</h3>
            <p>The main dashboard showing:</p>
            <ul>
                <li><strong>Today's Mood:</strong> Your current mood status</li>
                <li><strong>Recent Insights:</strong> AI-generated insights from your data</li>
                <li><strong>Quick Actions:</strong> Log Mood, View Trends, AI Analysis, Settings</li>
            </ul>

            <h3>Mood Tracking</h3>
            <h4>Logging Your Mood:</h4>
            <ol>
                <li>Tap the "Mood" tab</li>
                <li>Select your mood (1-10 scale or emojis)</li>
                <li>Rate your energy level</li>
                <li>Rate your stress level</li>
                <li>Add sleep quality</li>
                <li>Select activities</li>
                <li>Add notes (optional)</li>
                <li>Tap "Save Entry"</li>
            </ol>

            <h4>Mood Scales Available:</h4>
            <div class="feature-grid">
                <div class="feature-card">
                    <h4>1-10 Scale</h4>
                    <p>Numerical rating from 1 (very low) to 10 (very high)</p>
                </div>
                <div class="feature-card">
                    <h4>1-5 Scale</h4>
                    <p>Simplified rating from 1 to 5</p>
                </div>
                <div class="feature-card">
                    <h4>Emojis</h4>
                    <p>Visual mood representation with emoji selection</p>
                </div>
            </div>

            <h3>Insights & Analytics</h3>
            <ul>
                <li><strong>Mood Trends:</strong> Visual charts showing mood patterns</li>
                <li><strong>Energy Analysis:</strong> Track energy levels over time</li>
                <li><strong>Stress Patterns:</strong> Identify stress triggers</li>
                <li><strong>Sleep Correlation:</strong> Link sleep quality to mood</li>
                <li><strong>Activity Impact:</strong> See how activities affect your mood</li>
            </ul>
        </div>

        <div class="section" id="ai-features">
            <h2>ü§ñ AI Features</h2>

            <h3>AI Mood Analysis</h3>
            <ol>
                <li>Tap "AI Analysis" from the home screen</li>
                <li>Enter text describing your current state</li>
                <li>Tap "Analyze Mood"</li>
                <li>Receive:
                    <ul>
                        <li>Predicted mood</li>
                        <li>Confidence level</li>
                        <li>Key factors</li>
                        <li>Personalized suggestions</li>
                    </ul>
                </li>
            </ol>

            <h3>Therapeutic AI</h3>
            <p>The AI is trained in therapy-related topics and can:</p>
            <div class="feature-grid">
                <div class="feature-card">
                    <h4>üíù Emotional Support</h4>
                    <p>Provide empathetic responses to your feelings</p>
                </div>
                <div class="feature-card">
                    <h4>üîç Pattern Recognition</h4>
                    <p>Identify mood patterns and triggers</p>
                </div>
                <div class="feature-card">
                    <h4>‚ö†Ô∏è Crisis Detection</h4>
                    <p>Recognize concerning patterns and offer help</p>
                </div>
                <div class="feature-card">
                    <h4>üí° Smart Recommendations</h4>
                    <p>Suggest personalized coping strategies</p>
                </div>
                <div class="feature-card">
                    <h4>üß† Self-Learning</h4>
                    <p>Improves with each interaction</p>
                </div>
            </div>

            <div class="info">
                <strong>üîí AI Learning & Privacy:</strong>
                <ul>
                    <li>The AI uses your communications to improve its responses</li>
                    <li>Your data helps train the AI for better therapeutic support</li>
                    <li>All data is anonymized and secure</li>
                    <li>You can opt out of AI learning in settings</li>
                </ul>
            </div>
        </div>

        <div class="section" id="settings">
            <h2>‚öôÔ∏è Settings & Account Management</h2>

            <h3>Accessing Settings</h3>
            <ol>
                <li>Tap the "Settings" tab</li>
                <li>Or tap your profile picture and select "Settings"</li>
            </ol>

            <h3>Profile Management</h3>
            <ul>
                <li><strong>View Profile:</strong> See your account information</li>
                <li><strong>Edit Profile:</strong> Update name, email, phone</li>
                <li><strong>Change Password:</strong> Update your password</li>
                <li><strong>Privacy Settings:</strong> Control data sharing</li>
            </ul>

            <h3>Account Actions</h3>
            <ul>
                <li><strong>Logout:</strong> Sign out of your account</li>
                <li><strong>Delete Account:</strong> Permanently remove your account</li>
                <li><strong>Data Export:</strong> Download your data</li>
                <li><strong>Privacy Controls:</strong> Manage AI learning preferences</li>
            </ul>

            <h3>Notification Settings</h3>
            <ul>
                <li><strong>Mood Reminders:</strong> Daily mood logging prompts</li>
                <li><strong>Insight Notifications:</strong> New insights available</li>
                <li><strong>Goal Reminders:</strong> Progress tracking alerts</li>
                <li><strong>Custom Times:</strong> Set your preferred reminder times</li>
            </ul>
        </div>

        <div class="section" id="admin-panel">
            <h2>üë®‚Äçüíº Admin Panel</h2>

            <div class="admin-panel">
                <h4>üîë Admin Access</h4>
                <div class="credentials">
                    <strong>Username:</strong> makopolo<br>
                    <strong>Password:</strong> 123456<br>
                    <strong>Access:</strong> Full system access for testing
                </div>
            </div>

            <h3>Admin Features</h3>
            <div class="feature-grid">
                <div class="feature-card">
                    <h4>üìä System Monitoring</h4>
                    <p>Real-time system status and health checks</p>
                </div>
                <div class="feature-card">
                    <h4>üë• User Statistics</h4>
                    <p>User count and activity metrics</p>
                </div>
                <div class="feature-card">
                    <h4>üìù Error Logging</h4>
                    <p>System error tracking and diagnostics</p>
                </div>
                <div class="feature-card">
                    <h4>‚ö° Performance Metrics</h4>
                    <p>App performance data and optimization</p>
                </div>
                <div class="feature-card">
                    <h4>üîß Troubleshooting Tools</h4>
                    <p>Diagnostic utilities and system checks</p>
                </div>
            </div>

            <h3>Admin Capabilities</h3>
            <ul>
                <li>View all user data (anonymized)</li>
                <li>Monitor system health</li>
                <li>Access error logs</li>
                <li>Test system functionality</li>
                <li>Cannot delete admin account</li>
            </ul>
        </div>

        <div class="section" id="troubleshooting">
            <h2>üîß Troubleshooting</h2>

            <h3>Common Issues</h3>

            <h4>App Won't Start</h4>
            <ol>
                <li><strong>Check Backend:</strong> Ensure backend server is running</li>
                <li><strong>Restart Services:</strong> Stop and restart both backend and mobile app</li>
                <li><strong>Clear Cache:</strong> Clear app cache and restart</li>
                <li><strong>Check Dependencies:</strong> Run <code>npm install</code> in MoodscapeApp folder</li>
            </ol>

            <h4>Login Issues</h4>
            <ol>
                <li><strong>Verify Email:</strong> Check if email is verified</li>
                <li><strong>Reset Password:</strong> Use forgot password feature</li>
                <li><strong>Check Credentials:</strong> Ensure correct email/password</li>
                <li><strong>Clear Storage:</strong> Clear app data and try again</li>
            </ol>

            <h4>AI Features Not Working</h4>
            <ol>
                <li><strong>Check Internet:</strong> Ensure stable internet connection</li>
                <li><strong>Restart App:</strong> Close and reopen the application</li>
                <li><strong>Check Backend:</strong> Verify backend server is running</li>
                <li><strong>Update App:</strong> Ensure you have the latest version</li>
            </ol>

            <h4>QR Code Not Working</h4>
            <div class="warning">
                <strong>Quick Solutions:</strong>
                <ul>
                    <li>Use the web version at <strong>http://localhost:19006</strong></li>
                    <li>Try tunnel mode: <code>npx expo start --tunnel</code></li>
                    <li>Ensure both devices are on the same WiFi</li>
                    <li>Use direct URL access in Expo Go app</li>
                </ul>
            </div>

            <h3>Error Codes</h3>
            <ul>
                <li><strong>422:</strong> Validation error - check input format</li>
                <li><strong>401:</strong> Authentication required - log in</li>
                <li><strong>403:</strong> Access denied - check permissions</li>
                <li><strong>500:</strong> Server error - contact support</li>
            </ul>

            <h3>Performance Issues</h3>
            <ol>
                <li><strong>Close Background Apps:</strong> Free up device memory</li>
                <li><strong>Restart Device:</strong> Reboot your phone/tablet</li>
                <li><strong>Update OS:</strong> Ensure latest operating system</li>
                <li><strong>Clear Storage:</strong> Remove unnecessary files</li>
            </ol>

            <div class="success">
                <strong>‚úÖ Quick Fix Commands:</strong>
                <div class="code-block">
# Stop all processes
pkill -f expo && pkill -f python

# Restart backend
cd backend && source venv/bin/activate && python3 app/simple_main.py &

# Restart mobile app
cd MoodscapeApp && npx expo start --web
                </div>
            </div>
        </div>

        <div class="section">
            <h2>üìû Technical Support</h2>

            <h3>Getting Help</h3>
            <ol>
                <li><strong>Check This Manual:</strong> Review troubleshooting section</li>
                <li><strong>Admin Panel:</strong> Use admin tools for diagnostics</li>
                <li><strong>Error Logs:</strong> Check system logs for specific errors</li>
                <li><strong>Contact Support:</strong> Reach out to development team</li>
            </ol>

            <h3>Important URLs</h3>
            <ul>
                <li><strong>Backend API:</strong> http://localhost:8000</li>
                <li><strong>API Documentation:</strong> http://localhost:8000/docs</li>
                <li><strong>Health Check:</strong> http://localhost:8000/health</li>
                <li><strong>Mobile App (Web):</strong> http://localhost:19006</li>
            </ul>

            <h3>Emergency Contacts</h3>
            <ul>
                <li><strong>Crisis Support:</strong> 988 (US) or local crisis hotline</li>
                <li><strong>Technical Issues:</strong> Contact development team</li>
                <li><strong>Data Concerns:</strong> Review privacy policy in settings</li>
            </ul>
        </div>
    </div>

    <button class="back-to-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})" title="Back to Top">‚Üë</button>

    <script>
        // Smooth scrolling for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Show/hide back to top button
        window.addEventListener('scroll', function() {
            const backToTop = document.querySelector('.back-to-top');
            if (window.pageYOffset > 300) {
                backToTop.style.display = 'block';
            } else {
                backToTop.style.display = 'none';
            }
        });

        // Initialize back to top button as hidden
        document.querySelector('.back-to-top').style.display = 'none';
    </script>
</body>
</html>
